# ArticlesApplication

## Описание
Данный код представляет собой программу, которая создает базу данных с фейковыми данными и позволяет работать с этими данными (редактировать, удалять, добавлять новые) с помощью html-страниц. Сайт имеет несколько типов пользователей - неавторизированные, авторизированные обычные и админы. Каждый тип пользователя наделен определенными правами.

## Структура проекта

### config/
- **InsertData** - Генерация фейковых данных в необходимом формате, сохранение в базе данных.
  Параллельно происходит шифрация паролей для безопасности.
- **SecurityConfig** - Управление входом и регистрацией пользователей. Ограничивает доступ неавторизированных пользователей только к статьям, а также определяет шифрование паролей.

### controllers/
- **ArticleController** - Связывает `ArticleService` с пользователем для работы с статьями.
- **LoginController** - Отображает форму входа пользователя (login.html).
- **RegistrationController** - Отображает форму регистрации, сохраняет нового пользователя и перенаправляет на login.html.
- **TagController** - Предоставляет функционал для создания, редактирования и удаления тегов.
- **UserController** - Предоставляет функционал для управления пользователями (создание, редактирование, удаление).

### entities/
- **Article** - Сущность для статьи, задает структуру таблицы в БД, связи.
- **ArticleComment** - Сущность для комментариев к статьям.
- **ArticleFavorite** - Сущность для избранных статей.
- **Author** - Сущность для авторов (возможно заменено на владельцев).
- **Tag** - Сущность для тегов.
- **User** - Сущность для пользователей.

### repositories/
- **ArticleCommentRepository** - Интерфейс для работы с комментариями.
- **ArticleFavoriteRepository** - Интерфейс для работы с избранными статьями.
- **ArticleRepository** - Интерфейс для работы с статьями.
- **AuthorRepository** - Интерфейс для работы с авторами.
- **TagRepository** - Интерфейс для работы с тегами.
- **UserRepository** - Интерфейс для работы с пользователями.

### service/
- **ArticleService** - Интерфейс с методами для работы с статьями.
- **ArticleServiceImpl** - Реализация интерфейса с логикой работы с статьями.
- **AuthorService** - Интерфейс с методами для работы с авторами.
- **AuthorServiceImpl** - Реализация интерфейса с логикой работы с авторами.
- **CustomUserDetailsService** - Проверка существования пользователя в базе данных, преобразование ролей в права доступа для Spring Security.
- **TagService** - Интерфейс с методами для работы с тегами.
- **TagServiceImpl** - Реализация интерфейса с логикой работы с тегами.
- **UserService** - Интерфейс с методами для работы с пользователями.
- **UserServiceImpl** - Реализация интерфейса с логикой работы с пользователями.

### main class
- **ArticlesApplication** - Запуск приложения.

## Как запустить проект

1. Скачать и включить xampp и создать базу данных:
    ```sql
    CREATE DATABASE IF NOT EXISTS new_articles
    CHARACTER SET utf8mb4
    COLLATE utf8mb4_unicode_ci;

    CREATE USER 'new_user'@'localhost' IDENTIFIED BY 'new_password';
    GRANT ALL PRIVILEGES ON new_articles.* TO 'new_user'@'localhost';
    FLUSH PRIVILEGES;
    ```
2. Скачать код с [GitHub](https://github.com/KRAKENN8/ArticlesApplication/tree/test).
3. Разархивировать и запустить проект. Открыть страницу `login.html`(http://localhost:8080/login).
4. Настроить правильный порт Tomcat(Например: http://localhost:8080/login).
5. Для входа :
    - Зарегистрировать нового пользователя.
    - Для админа: пользователь `admin`, пароль `123`.

## Функциональность

- Возможности: удаление, добавление и редактирование данных.
- Роли пользователей:
    - **Неавторизированные пользователи** могут только читать статьи.
    - **Авторизированные пользователи** могут редактировать и удалять свои статьи, создавать новые статьи и теги.
    - **Админ** может делать все, включая удаление пользователей и их зависимостей.

## База данных (ER-диаграмма)
![img.png](img.png)
